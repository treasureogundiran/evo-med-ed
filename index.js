evoEdCases = [
  {
    title: "Monkey Opsins",
    img: "./Images/monkeyopsin.png",
    href: "https://www.evo-ed.org/Pages/Primates/index.html",
    id: "monkey-opsin",
    description:
      "Humans have trichromatic vision. Our eyes detect colors in the visible range of the spectrum using three different cone cell types, each maximally stimulated by a different wavelength of light. Some humans are colorblind, meaning that their eyes detect colors in a more limited region of the spectrum using only one or two different types of cone cell.",
    links: [
      {
        title: "PowerPoint Slides",
        img: "powerpoint",
        href: "#",
      },
      {
        title: "Games and Sims",
        img: "sims",
        href: "#",
      },
    ],
  },
  {
    title: "Mouse Fur",
    img: "./Images/mousefur.png",
    href: "https://www.evo-ed.org/Pages/Mice/index.html",
    id: "mouse-fur",
    description:
      "The beach mouse, (Peromyscus polionotus) is a small rodent found in southeastern United States. It lives primarily in old fields and on white sand beaches. There are several sub-species, each having a somewhat unique fur color ranging from dark brown to very light brown, approaching white.",
    links: [
      {
        title: "Games and Sims",
        img: "sims",
        href: "#",
      },
      {
        title: "Question Guide",
        img: "question",
        href: "#",
      },
    ],
  },
  {
    title: "Pea Taste",
    img: "./Images/peataste.png",
    href: "https://www.evo-ed.org/Pages/Peas/index.html",
    id: "pea-taste",
    description:
      "The common field pea (Pisum sativum) is one of the first plants to be domesticated as a crop, dating back to the Neolithic agricultural revolution, 10,000 BCE. It is the same species that Gregor Mendel, the father of modern genetics, used in his experiments when he discovered the laws of genetic inheritance.",
    links: [
      {
        title: "Games and Sims",
        img: "sims",
        href: "#",
      },
      {
        title: "Question Guide",
        img: "question",
        href: "#",
      },
    ],
  },
  {
    title: "Clam Toxin",
    img: "./Images/clamtoxin.png",
    href: "https://www.evo-ed.org/Pages/Clams/index.html",
    id: "clam-toxin",
    description:
      "Soft shell clams (Mya arenaria) are bivalves native to the east coast of North America.  They have become invasive species elsewhere throughout the northern hemisphere, inhabiting brackish waters, estuaries and marine environments.",
    links: [
      {
        title: "Games and Sims",
        img: "sims",
        href: "#",
      },
      {
        title: "Question Guide",
        img: "question",
        href: "#",
      },
    ],
  },
  {
    title: "Lactase Persistence",
    img: "./Images/lactasepersistence.png",
    href: "https://www.evo-ed.org/Pages/Lactase/index.html",
    id: "lactase-persistence",
    description:
      "Humans are relatively unique among mammal species in that some of their adult population retains the ability to digest lactose, a sugar found in milk. This ability is the result of a mutation that occurred thousands of years ago, and that must have conferred some adaptive advantage to those with the trait. This module will explore how, where, and why this evolutionary event took place.",
    links: [
      {
        title: "Games and Sims",
        img: "sims",
        href: "#",
      },
      {
        title: "Question Guide",
        img: "question",
        href: "#",
      },
    ],
  },
  {
    title: "E-Coli Citrate",
    img: "./Images/ecolicitrate.png",
    href: "https://www.evo-ed.org/Pages/Ecoli/index.html",
    id: "e-coli-citrate",
    description:
      "Bacteria are excellent model organisms for studying evolution.  They are easy to grow, maintain, and handle under very controlled conditions.  Even more importantly for evolution research, they can grow to very large population sizes in small culture flasks, and reproduce very rapidly.",
    links: [
      {
        title: "Games and Sims",
        img: "sims",
        href: "#",
      },
      {
        title: "Question Guide",
        img: "question",
        href: "#",
      },
    ],
  },
  {
    title: "Skin Pigmentation",
    img: "./Images/skinpigmentation.png",
    href: "https://www.evo-ed.org/Pages/Skin/index.html",
    id: "skin-pigmentation",
    description:
      "Human skin has many functions, one of which is mediating the effects of sunlight. Pigmentation, (skin color), in humans has evolved under selection pressure from the duration and intensity of sunlight. Ancestral populations near the equator were selected for dark skin, while those living in higher northern latitudes were selected for lighter skin. The distribution of “light” alleles of well-studied genes associated with skin color is non-random. Some of these “light” versions are found in most northern latitude populations; others are more geographically specific.",
    links: [
      {
        title: "Games and Sims",
        img: "sims",
        href: "#",
      },
      {
        title: "Question Guide",
        img: "question",
        href: "#",
      },
    ],
  },
];

evoMedEdCases = [
  {
    title: "Mouse Fur",
    img: "./Images/mousefur.png",
    href: "https://www.evo-ed.org/Pages/Mice/index.html",
    id: "mouse-fur",
    description:
      "The beach mouse, (Peromyscus polionotus) is a small rodent found in southeastern United States. It lives primarily in old fields and on white sand beaches. There are several sub-species, each having a somewhat unique fur color ranging from dark brown to very light brown, approaching white.",
    links: [
      {
        title: "Games and Sims",
        img: "sims",
        href: "#",
      },
      {
        title: "Question Guide",
        img: "question",
        href: "#",
      },
    ],
  },
  {
    title: "Pea Taste",
    img: "./Images/peataste.png",
    href: "https://www.evo-ed.org/Pages/Peas/index.html",
    id: "pea-taste",
    description:
      "The common field pea (Pisum sativum) is one of the first plants to be domesticated as a crop, dating back to the Neolithic agricultural revolution, 10,000 BCE. It is the same species that Gregor Mendel, the father of modern genetics, used in his experiments when he discovered the laws of genetic inheritance.",
    links: [
      {
        title: "Games and Sims",
        img: "sims",
        href: "#",
      },
      {
        title: "Question Guide",
        img: "question",
        href: "#",
      },
    ],
  },
  {
    title: "Clam Toxin",
    img: "./Images/clamtoxin.png",
    href: "https://www.evo-ed.org/Pages/Clams/index.html",
    id: "clam-toxin",
    description:
      "Soft shell clams (Mya arenaria) are bivalves native to the east coast of North America.  They have become invasive species elsewhere throughout the northern hemisphere, inhabiting brackish waters, estuaries and marine environments.",
    links: [
      {
        title: "Games and Sims",
        img: "sims",
        href: "#",
      },
      {
        title: "Question Guide",
        img: "question",
        href: "#",
      },
    ],
  },
];

imageLinks = {
  powerpoint: "Images/powerpoint_icon.png",
  sims: "Images/game_icon.png",
  question: "Images/question_icon.png",
};

evoEdCasesDisplay = document.getElementById("evo-ed-cases");
evoMedEdCasesDisplay = document.getElementById("evo-med-ed-cases");
evoCases = [];
dialog = document.querySelector("#case-dialog");
closeDialog = document.querySelector("#close-dialog");

window.addEventListener("load", (e) => {
  evoEdCases.forEach((element) => {
    let li = document.createElement("li");
    li.id = element.id;
    let a = document.createElement("a");
    a.href = element.href;
    let img = document.createElement("img");
    img.src = element.img;
    li.classList.add("case");

    a.appendChild(img);
    li.appendChild(a);
    evoEdCasesDisplay.appendChild(li);
    evoCases.push(li);
  });

  evoMedEdCases.forEach((element) => {
    let li = document.createElement("li");
    li.id = element.id;
    let a = document.createElement("a");
    a.href = element.href;
    let img = document.createElement("img");
    img.src = element.img;
    li.classList.add("case");

    a.appendChild(img);
    li.appendChild(a);
    evoMedEdCasesDisplay.appendChild(li);
  });

  for (let i = 0; i < evoCases.length; i++) {
    evoCases[i].querySelector("img").addEventListener("mouseenter", (e) => {
      let id = e.target.parentElement.parentElement.id;

      dialog.querySelector(".dialog-title").innerText = evoEdCases.find(
        (evoCase) => evoCase.id == id
      ).title;
      dialog.querySelector(".dialog-title").href = evoEdCases.find(
        (evoCase) => evoCase.id == id
      ).href;
      dialog.querySelector("p").innerText = evoEdCases.find(
        (evoCase) => evoCase.id == id
      ).description;

      let evoLinks = evoEdCases.find((evoCase) => evoCase.id == id).links;

      evoLinks.forEach((link) => {
        let li = document.createElement("li");
        let a = document.createElement("a");
        a.href = link["href"];

        let div = document.createElement("div");
        let img = document.createElement("img");
        img.src = imageLinks[link.img];
        div.appendChild(img);
        div.classList.add("resource-image-div");
        a.appendChild(div);

        let div2 = document.createElement("div");
        div2.innerText = link.title;
        a.appendChild(div2);

        li.appendChild(a);
        console.log(li);

        dialog.querySelector(".dialog-resources").appendChild(li);
      });
      dialog.showModal();
    });
  }
});

closeDialog.addEventListener("click", (e) => {
  dialog.close();
});

dialog.addEventListener("close", (e) => {
  dialog.querySelector(".dialog-resources").innerHTML = "";
});
